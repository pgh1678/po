<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>My Account</title>


    <!-- Bootstrap core CSS -->
    <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link th:href="@{/css/simple-sidebar.css}" rel="stylesheet">

    <!-- Bootstrap core JavaScript -->
    <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
    <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css">
  </head>
  <body>
    <h1 class="mt-4">계좌설정
    </h1>
    <script th:inline="javascript">

    </script>

    <form id="MyAccount" action="/po/myAccount" method="post">

      <div class="form-group  ml-3" >
        <label >은행명</label>
        <input type="text" class="form-control" name="bankName" th:value="${result} == null? '': ${result.bankName}"  >
      </div>

      <div class="form-group  ml-3">
        <label >투자금액</label>
        <input type="text" class="form-control" name="investmentMoney" th:value="${result} == null? '': ${result.investmentMoney}"  >
      </div>
      <div class="form-group ml-3">
        <label >대출이율</label>
        <input type="text" class="form-control" name="interestRate" th:value="${result} == null? '': ${result.interestRate}"  >
      </div>
    </form>

    <button type="button" class="btn btn-primary saveBtn  ml-3">저장</button>
    <button type="button" class="btn btn-primary closeBtn  ml-3">닫기</button>

    <script th:inline="javascript">

            var actionForm = $("form"); //form 태그 객체

            $(".saveBtn").click(function() {

                if(!confirm("저장하시겠습니까?")){
                    return ;
                }
                //actionForm
                //    .attr("action", "/po/MyAccount")
                //    .attr("method","post")
                //    .submit();

                var formData = $("#MyAccount").serialize();
                $.ajax({
                    cache : false,
                    url : "/po/MyAccount", // 요기에
                    type : 'POST',
                    data : formData,
                    success : function(data) {
                        alert("저장되었습니다.");
                        window.open("about:blank", "_self").close();
                    }, // success

                    error : function(xhr, status) {
                        alert("저장 중 오류가 발생하였습니다.");
                    }
                }); // $.ajax */





            });

            $(".closeBtn").click(function() {
                window.close();
            })

        </script>
  </body>
</html>